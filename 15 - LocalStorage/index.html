<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>LocalStorage</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <svg
      id="Capa_1"
      enable-background="new 0 0 512 512"
      height="200"
      viewBox="0 0 512 512"
      width="200"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="m256 115.833c-77.288 0-140.167 62.878-140.167 140.167s62.879 140.167 140.167 140.167 140.167-62.879 140.167-140.167-62.879-140.167-140.167-140.167zm0 260.334c-66.26 0-120.167-53.906-120.167-120.167s53.907-120.167 120.167-120.167 120.167 53.907 120.167 120.167-53.907 120.167-120.167 120.167z"
      />
      <path
        d="m256 97c5.523 0 10-4.477 10-10v-77c0-5.523-4.477-10-10-10s-10 4.477-10 10v77c0 5.523 4.477 10 10 10z"
      />
      <path
        d="m162.84 114.642c1.852 3.208 5.213 5.001 8.669 5.001 1.696 0 3.416-.432 4.991-1.341 4.783-2.761 6.422-8.877 3.66-13.66l-22.887-39.642c-2.761-4.784-8.878-6.422-13.66-3.66-4.783 2.761-6.422 8.877-3.66 13.66z"
      />
      <path
        d="m41.226 266h45.774c5.523 0 10-4.477 10-10s-4.477-10-10-10h-45.774c-5.523 0-10 4.477-10 10s4.477 10 10 10z"
      />
      <path
        d="m176.5 393.698c-4.781-2.761-10.898-1.123-13.66 3.66l-22.887 39.642c-2.762 4.783-1.123 10.899 3.66 13.66 1.575.909 3.294 1.341 4.991 1.341 3.456 0 6.817-1.793 8.669-5.001l22.887-39.642c2.762-4.782 1.123-10.899-3.66-13.66z"
      />
      <path
        d="m349.16 397.358c-2.762-4.784-8.878-6.422-13.66-3.66-4.783 2.761-6.422 8.877-3.66 13.66l22.887 39.642c1.852 3.208 5.213 5.001 8.669 5.001 1.696 0 3.416-.432 4.991-1.341 4.783-2.761 6.422-8.877 3.66-13.66z"
      />
      <path
        d="m470.774 246h-45.774c-5.523 0-10 4.477-10 10s4.477 10 10 10h45.774c5.523 0 10-4.477 10-10s-4.477-10-10-10z"
      />
      <path
        d="m335.5 118.302c1.575.909 3.294 1.341 4.991 1.341 3.456 0 6.817-1.793 8.669-5.001l22.887-39.642c2.762-4.783 1.123-10.899-3.66-13.66-4.781-2.761-10.898-1.123-13.66 3.66l-22.887 39.642c-2.762 4.782-1.123 10.899 3.66 13.66z"
      />
      <path
        d="m37.958 141.66 66.684 38.5c1.575.909 3.294 1.341 4.991 1.341 3.456 0 6.817-1.793 8.669-5.001 2.762-4.783 1.123-10.899-3.66-13.66l-66.684-38.5c-4.784-2.761-10.898-1.123-13.66 3.66s-1.123 10.899 3.66 13.66z"
      />
      <path
        d="m104.642 331.84-66.684 38.5c-4.783 2.761-6.422 8.877-3.66 13.66 1.852 3.208 5.213 5.001 8.669 5.001 1.696 0 3.416-.432 4.991-1.341l66.684-38.5c4.783-2.761 6.422-8.877 3.66-13.66-2.762-4.784-8.878-6.422-13.66-3.66z"
      />
      <path
        d="m474.042 370.34-66.684-38.5c-4.782-2.76-10.898-1.123-13.66 3.66s-1.123 10.899 3.66 13.66l66.684 38.5c1.575.909 3.294 1.341 4.991 1.341 3.456 0 6.817-1.793 8.669-5.001 2.762-4.783 1.123-10.899-3.66-13.66z"
      />
      <path
        d="m402.368 181.501c1.696 0 3.416-.432 4.991-1.341l66.684-38.5c4.783-2.761 6.422-8.877 3.66-13.66-2.761-4.784-8.878-6.422-13.66-3.66l-66.684 38.5c-4.783 2.761-6.422 8.877-3.66 13.66 1.851 3.208 5.213 5.001 8.669 5.001z"
      />
      <path
        d="m256 415c-5.523 0-10 4.477-10 10v77c0 5.523 4.477 10 10 10s10-4.477 10-10v-77c0-5.523-4.477-10-10-10z"
      />
      <path
        d="m169.922 283.924c-3.905 3.905-3.905 10.244 0 14.149 1.953 1.953 4.514 2.929 7.075 2.929s5.122-.976 7.075-2.929c3.905-3.905 3.905-10.244 0-14.149-3.906-3.905-10.245-3.905-14.15 0z"
      />
      <path
        d="m257 159.5c-53.21 0-96.5 43.29-96.5 96.5 0 5.523 4.477 10 10 10s10-4.477 10-10c0-42.182 34.318-76.5 76.5-76.5 5.523 0 10-4.477 10-10s-4.477-10-10-10z"
      />
    </svg>

    <div class="wrapper">
      <h2>MENU</h2>
      <p></p>
      <ul class="plates">
        <li>Loading...</li>
      </ul>
      <form class="add-items">
        <input type="text" name="item" placeholder="Item Name" required />
        <input type="submit" value="+ Add Item" />
      </form>
    </div>

    <script>
      const addItems = document.querySelector('.add-items');
      const itemsList = document.querySelector('.plates');
      const items = JSON.parse(localStorage.getItem('items')) || [];

      function addItem(e) {
        e.preventDefault();
        const text = this.querySelector('[name=item]').value;
        const item = {
          text,
          done: false,
        };

        items.push(item);
        populateList(items, itemsList);
        localStorage.setItem('items', JSON.stringify(items));
        this.reset();
      }

      function populateList(plates = [], platesList) {
        platesList.innerHTML = plates
          .map((plate, i) => {
            return `
        <li>
          <input type="checkbox" data-index=${i} id="item${i}" ${
              plate.done ? 'checked' : ''
            } />
          <label for="item${i}">${plate.text}</label>
        </li>
      `;
          })
          .join('');
      }

      function toggleDone(e) {
        if (!e.target.matches('input')) return;
        const el = e.target;
        const index = el.dataset.index;
        items[index].done = !items[index].done;
        localStorage.setItem('items', JSON.stringify(items));
        populateList(items, itemsList);
      }

      addItems.addEventListener('submit', addItem);
      itemsList.addEventListener('click', toggleDone);

      populateList(items, itemsList);
    </script>
  </body>
</html>
